name: Run Examples
description: Run vaccel examples

inputs:
  prefix:
    default: ${{ github.workspace }}/opt
  valgrind:
    default: 'false'
  package:
    default: 'vaccel'

runs:
  using: composite
  steps:
    - name: Run examples
      run: |
        if [ "${{ inputs.package }}" == "vaccel" ]; then
          "${{ github.workspace }}"/scripts/run-examples.sh \
            "${{ inputs.prefix }}" "${{ inputs.valgrind }}"
        else
          "${{ github.workspace }}"/scripts/run-examples.sh \
            "${{ inputs.prefix }}" "${{ inputs.valgrind }}" "/usr"
        fi
      shell: bash
